<!DOCTYPE html>
<html>
	<head>
		<link href="../../css/index.css" type="text/css" rel="stylesheet" />
		<meta charset="utf-8">
		<title>OI常见的bug和debug技巧</title>
	</head>
	<body>
		<h2>声明：我日常不用DevC++，这些方法可以脱离DevC++使用</h2>
		<p>常见疑难杂症治疗方法</p>
		<table>
			<thead>
				<th>bugs</th>
				<th>solutions</th>
			</thead>
			<tr>
				<td>写错人名（例如freda写成fread）</td>
				<td>人名直接复制就好了</td>
			</tr>
			<tr>
				<td>错误地使用STL（例如，lower_bound和upper_bound用错）</td>
				<td>不用不确定的功能或者类似的函数多试几次，总能找到正确的那个</td>
			</tr>
			<tr>
				<td>二分细节（例如，答案是左端点还是右端点）</td>
				<td>对样例，再对几组手造的小数据，哪个正确就是哪个</td>
			</tr>
			<tr>
				<td>算法细节错误（例如，初始化高斯消元的系数矩阵填错数字）</td>
				<td>在所有可能出错的地方输出一下可能出错的东西</td>
			</tr>
			<tr>
				<td>漏掉特判边界条件</td>
				<td>造包含边界条件的小数据看结果</td>
			</tr>
			<tr>
				<td>死循环/死递归</td>
				<td>输出循环变量/递归函数的参数，<strong>一定要用cerr</strong></td>
			</tr>
			<tr>
				<td>下标从0开始还是1开始</td>
				<td>形成一个固定的模式，不变就好了</td>
			</tr>
		</table>
		<p>一些debug需求的实现方法</p>
		<table>
			<thead>
				<th>requirements</th>
				<th>solutions</th>
			</thead>
			<tr>
				<td>跟踪函数调用</td>
				<td>在函数开始调用和结束的地方分别给出输出</td>
			</tr>
			<tr>
				<td>找到RE的地方</td>
				<td>直接跟踪代码的执行，有可能RE的地方一步一个输出</td>
			</tr>
			<tr>
				<td>判断某个变量是否取到某个特殊的值</td>
				<td>使用if语句和异常机制（如果取这个值则抛出异常，用来辅助处理边界问题）</td>
			</tr>
		</table>
		<p>特别提醒：</p>
		<ul>
			<li>一定要用cerr调试输出！调试的时候不要用cout，因为有缓冲区（遇到RE和TLE你看不到cout，但是可以看到cerr）。<i>特别的，如果你用cstdio，使用fprintf(str0,str1,stderr)</i></li>
			<li>如果你使用DevC++，千万不要用它的调试功能，你会脑溢血的</li>
		</ul>
		<p>附加资源：<a href="https://github.com/javaherobrine/OI/blob/main/debug.hpp">debug.hpp</a></p>
	</body>
</html>
